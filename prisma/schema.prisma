generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model phones {
  id    Int    @id @default(autoincrement())
  phone String @db.VarChar(30)
}

model job_titles {
  id    Int    @id @default(autoincrement())
  title String @db.VarChar(30)
}

model colors_setting {
  id         Int    @id @default(autoincrement())
  main_color String @unique @db.VarChar(20)
  color1     String @unique @db.VarChar(20)
  color2     String @unique @db.VarChar(20)
}

model awner {
  id       Int    @id @default(autoincrement())
  email    String @unique(map: "Awner_email_key")
  password String
}

model awner_info {
  id          Int    @id @default(autoincrement())
  name        String @unique(map: "Awner_info_name_key") @db.VarChar(30)
  email       String @unique(map: "Awner_info_email_key") @db.VarChar(40)
  description String @unique(map: "Awner_info_description_key") @db.VarChar(255)
  image       String @unique(map: "Awner_info_image_key") @db.VarChar(255)
}

model category_projects {
  id            Int        @id @default(autoincrement())
  category_name String     @unique(map: "Category_projects_category_name_key") @db.VarChar(60)
  projects      projects[]
}

model category_skills {
  id            Int      @id @default(autoincrement())
  category_name String   @unique(map: "Category_skills_category_name_key") @db.VarChar(50)
  skills        skills[]
}

model links {
  id    Int    @id @default(autoincrement())
  title String @unique(map: "Links_title_key") @db.VarChar(30)
  link  String @unique(map: "Links_link_key") @db.VarChar(255)
  icon  String @db.VarChar(255)
  type  String @db.VarChar(40)
}

model messages {
  id         Int     @id @default(autoincrement())
  subject    String  @db.VarChar(70)
  message    String  @db.VarChar(255)
  visitor_id String
  visitor    visitor @relation(fields: [visitor_id], references: [id])

  @@index([visitor_id])
}

model project_notes {
  id         Int      @id @default(autoincrement())
  notes      String   @db.VarChar(255)
  react      String   @db.VarChar(10)
  project_id Int
  visitor_id String
  projects   projects @relation(fields: [project_id], references: [id])
  visitor    visitor  @relation(fields: [visitor_id], references: [id])

  @@index([project_id])
  @@index([visitor_id], map: "Project_notes_visitor_id_fkey")
}

model projects {
  id                  Int               @id @default(autoincrement())
  title               String            @db.VarChar(30)
  description         String            @db.VarChar(255)
  live_url            String            @db.VarChar(255)
  repo_url            String            @db.VarChar(255)
  status              String            @db.VarChar(20)
  created_at          DateTime          @default(now())
  ended_at            String            @db.VarChar(30)
  attachment          String            @db.VarChar(255)
  category_project_id Int
  project_notes       project_notes[]
  category_projects   category_projects @relation(fields: [category_project_id], references: [id])

  @@index([category_project_id])
}

model skills {
  id              Int             @id @default(autoincrement())
  title           String          @db.VarChar(20)
  icon            String          @db.VarChar(255)
  category_id     Int
  category_skills category_skills @relation(fields: [category_id], references: [id])

  @@index([category_id])
}

model visitor {
  id            String          @id
  name          String          @db.VarChar(30)
  email         String          @db.VarChar(40)
  image         String          @db.VarChar(255)
  login_by      String          @db.VarChar(20)
  messages      messages[]
  project_notes project_notes[]
}
